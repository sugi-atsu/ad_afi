/* ===================================
   比較カードパターン (JS描画用)
   =================================== */

.comparison-section {
  position: relative;
  padding-bottom: 30px;
}

.comparison-table-wrapper {
  /* 横スクロール対応のコンテナ */
  overflow-x: auto;
  width: 100%;
  margin: 0 auto;
  padding-bottom: 20px;
  /* スクロールバーのスペース */
  -webkit-overflow-scrolling: touch;
}

/* フレックスボックスコンテナ */
.comparison-container {
  display: flex;
  border: 1px solid #ddd;
  border-radius: 4px;
  background-color: #fff;
  width: max-content;
  /* 中身に合わせて幅を広げる */
  min-width: 100%;
}

/* ===================================
   左端：インデックスカラム
   =================================== */
.comparison-index-column {
  flex: 0 0 160px;
  /* 固定幅 */
  width: 160px;
  background-color: #3366cc;
  /* 濃い青 */
  color: #fff;
  font-weight: bold;
  display: flex;
  flex-direction: column;
  position: sticky;
  left: 0;
  z-index: 10;
  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
  order: -10;
  /* 確実に一番左にする */
}

.comparison-index-cell {
  padding: 10px;
  border-bottom: 1px dashed rgba(255, 255, 255, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  text-align: center;
  box-sizing: border-box;
}

/* 最初のセル（ヘッダー） */
.comparison-index-cell.header-cell {
  background-color: #213457;
  height: 220px;
  /* 高さを広げて画像とテキストの重なりを防ぐ */
  border-bottom: 1px solid rgba(255, 255, 255, 0.3);
}

/* ===================================
   商材カラム
   =================================== */
.comparison-product-column {
  flex: 0 0 200px;
  /* 商材ごとの幅 */
  width: 200px;
  border-right: 1px solid #eee;
  background-color: #fff;
  display: flex;
  flex-direction: column;
  text-align: center;
}

/* 最後の商材カラムのボーダーを削除 */
.comparison-product-column:last-child {
  border-right: none;
}

/* ===================================
   おすすめカラム（1位）の強調
   =================================== */
.comparison-product-column.is-recommended {
  background-color: #fffde7;
  /* 薄い黄色 */
  border: none;
  border-right: 1px solid #eee;
  /* ゴールドの枠線を削除し、通常の右ボーダーを適用 */
  /* order: -1; 削除 */
  position: relative;
  z-index: 5;
}

/* おすすめカラム内のヘッダー等の背景も透過または合わせる */
.comparison-product-column.is-recommended .comparison-product-header,
.comparison-product-column.is-recommended .comparison-cell {
  background-color: transparent;
  /* 親の黄色が見えるように */
  border-bottom-color: rgba(0, 0, 0, 0.1);
  /* ボーダー色調整 */
}

/* 総合評価セルの背景色上書き */
.comparison-product-column.is-recommended .comparison-rating-cell {
  background-color: rgba(255, 255, 255, 0.5);
  /* 少し白を混ぜて読みやすく */
}

/* 共通セルスタイル */
.comparison-cell {
  padding: 10px;
  border-bottom: 1px solid #eee;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  height: 120px;
  /* セルの高さを固定して揃える */
  box-sizing: border-box;
}

.comparison-index-cell {
  height: 120px;
  /* セルの高さを合わせる */
  white-space: pre-wrap;
  line-height: 1.3;
}

/* ===================================
   セルの詳細スタイル
   =================================== */

/* 商材ヘッダー(画像・名前) */
.comparison-product-header {
  height: 220px;
  /* 左カラムと合わせる */
  padding: 15px 10px;
  border-bottom: 2px solid #3366cc;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  gap: 10px;
}

.comparison-product-logo {
  width: 100%;
  height: 140px;
  margin-bottom: 10px;
}

.comparison-product-logo a {
  display: flex;
  width: 100%;
  height: 100%;
  align-items: center;
  justify-content: center;
}

.comparison-product-logo img {
  max-width: 100%;
  max-height: 100%;
  width: auto;
  height: auto;
  object-fit: contain;
}

.comparison-product-name {
  font-weight: bold;
  font-size: 14px;
  line-height: 1.4;
}

.comparison-product-name a {
  color: #3366cc;
  text-decoration: underline;
}

/* 総合評価（商材カラム用） */
.comparison-rating-cell {
  background-color: #f0f8ff;
  /* 薄い青背景 */
}

/* 左端カラムの総合評価セルは濃紺に戻す */
.comparison-index-cell.comparison-rating-cell {
  background-color: #213457;
  color: #fff;
  border-bottom: 1px solid rgba(255, 255, 255, 0.3);
}

.rating-score-large {
  font-size: 24px;
  font-weight: bold;
  color: #213457;
  line-height: 1;
}

.rating-stars {
  color: #f4b400;
  font-size: 16px;
  margin-top: 5px;
}

/* 判定アイコン */
.comparison-status-icon {
  font-size: 40px;
  line-height: 1;
  margin-bottom: 5px;
}

.status-double-circle {
  color: #d32f2f;
  /* 赤 */
}

.status-double-circle::before {
  content: "◎";
}

.status-circle {
  color: #f57c00;
  /* オレンジ */
}

.status-circle::before {
  content: "◯";
}

.status-triangle {
  color: #388e3c;
  /* 緑 */
}

.status-triangle::before {
  content: "△";
}

.status-cross {
  color: #757575;
  /* グレー */
}

.status-cross::before {
  content: "×";
}

.status-none {
  color: #ccc;
}

.status-none::before {
  content: "-";
}

/* 補足テキスト */
.comparison-status-text {
  font-size: 12px;
  color: #333;
  line-height: 1.3;
}

/* CTAエリア */
.comparison-cta-cell {
  height: auto;
  padding: 20px 10px;
  border-bottom: none;
}

.comparison-cta-btn {
  display: block;
  width: 100%;
  padding: 10px 0;
  background-color: #d32f2f;
  color: #fff;
  font-weight: bold;
  text-decoration: none;
  border-radius: 4px;
  font-size: 14px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  transition: opacity 0.3s;
}

.comparison-cta-btn:hover {
  opacity: 0.8;
  color: #fff;
}

/* ===================================
   レスポンシブ対応 (スマホ・タブレット)
   =================================== */
@media screen and (max-width: 768px) {

  /* 左端インデックスカラムの幅を縮小 */
  .comparison-index-column {
    flex: 0 0 100px;
    width: 100px;
    min-width: 100px;
    /* ★追加: 最小幅を確保して見切れを防ぐ */
  }

  /* 商材カラムの幅を調整 */
  .comparison-product-column {
    flex: 0 0 140px;
    /* 少し狭くして画面に多く入るように */
    width: 140px;
  }

  /* フォントサイズの全体縮小 */
  .comparison-index-cell,
  .comparison-cell {
    font-size: 11px;
    padding: 8px 5px;
    /* パディングも詰める */
  }

  /* アイコンサイズ調整 */
  .comparison-status-icon {
    font-size: 24px;
    /* アイコンを小さく */
  }

  /* 画像エリアの高さ調整 */
  .comparison-product-header,
  .comparison-index-cell.header-cell {
    height: 150px;
    /* ヘッダー高さを少し減らす */
  }

  .comparison-product-logo {
    height: 60px;
  }

  .comparison-product-name {
    font-size: 12px;
  }

  /* 評価スコア（数値） */
  .rating-score-large {
    font-size: 18px;
  }

  .rating-stars {
    font-size: 12px;
  }

  /* CTAボタン */
  .comparison-cta-btn {
    font-size: 12px;
    padding: 8px 0;
  }
}